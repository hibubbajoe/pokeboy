(this.webpackJsonpmy_first_game=this.webpackJsonpmy_first_game||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a,i,c,o=n(4),s=n.n(o),r=n(9),h=n.n(r),u=(n(16),n(17),n(18),n(1)),b=n(2),d=function(){function e(){Object(u.a)(this,e),this.heldDirections=[],this.map={ArrowUp:"up",KeyW:"up",ArrowDown:"down",KeyS:"down",ArrowLeft:"left",KeyA:"left",ArrowRight:"right",KeyD:"right"}}return Object(b.a)(e,[{key:"direction",get:function(){return this.heldDirections[0]}},{key:"init",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n=e.map[t.code];n&&-1===e.heldDirections.indexOf(n)&&e.heldDirections.unshift(n)})),document.addEventListener("keyup",(function(t){var n=e.map[t.code],a=e.heldDirections.indexOf(n);a>-1&&e.heldDirections.splice(a,1)}))}}]),e}(),m=n(0),l=n(5),O=n.n(l),j=n(6),p=function(e){return 16*e},v=function(e,t){return"".concat(16*e,",").concat(16*t)},g=function(e,t,n){var a=e,i=t;return"left"===n?a-=16:"right"===n?a+=16:"up"===n?i-=16:"down"===n&&(i+=16),{x:a,y:i}},w=function(e,t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)},f=n(7),y=n(11),k=n(10),x=function(){function e(){Object(u.a)(this,e),this.element=null}return Object(b.a)(e,[{key:"createElement",value:function(){this.element=document.createElement("div"),this.element.classList.add("SceneTransition")}},{key:"fadeOut",value:function(){var e=this;this.element.classList.add("fade-out"),this.element.addEventListener("animationend",(function(){e.element.remove()}),{once:!0})}},{key:"init",value:function(e,t){this.createElement(),e.appendChild(this.element),this.element.addEventListener("animationend",(function(){t()}),{once:!0})}}]),e}(),L=function(){function e(t,n){Object(u.a)(this,e);var a=!0;this.keydownFunction=function(e){e.code===t&&a&&(a=!1,n())},this.keyupFunction=function(e){e.code===t&&(a=!0)},document.addEventListener("keydown",this.keydownFunction),document.addEventListener("keyup",this.keyupFunction)}return Object(b.a)(e,[{key:"unbind",value:function(){document.removeEventListener("keydown",this.keydownFunction),document.removeEventListener("keyup",this.keyupFunction)}}]),e}(),P=function(){function e(t){var n=t.text,a=t.onComplete;Object(u.a)(this,e),this.text=n,this.onComplete=a,this.element=null}return Object(b.a)(e,[{key:"createElement",value:function(){var e=this;this.element=document.createElement("div"),this.element.classList.add("TextMessage"),this.element.innerHTML='\n        <p class="TextMessage_p">'.concat(this.text,'</p>\n        <button class="TextMessage_button"></button>\n        '),this.element.querySelector("button").addEventListener("click",(function(){e.done()})),this.actionListener=new L("Enter",(function(){e.actionListener.unbind(),e.done()}))}},{key:"done",value:function(){this.element.remove(),this.onComplete()}},{key:"init",value:function(e){this.createElement(),e.appendChild(this.element)}}]),e}(),C=function(){function e(t){var n=t.map,a=t.event;Object(u.a)(this,e),this.map=n,this.event=a}return Object(b.a)(e,[{key:"stand",value:function(e){var t=this;this.map.gameObjects[this.event.who].startBehavior({map:this.map},{type:"stand",direction:this.event.direction,time:this.event.time});document.addEventListener("PersonStandComplete",(function n(a){a.detail.whoId===t.event.who&&(document.removeEventListener("PersonStandComplete",n),e())}))}},{key:"walk",value:function(e){var t=this;this.map.gameObjects[this.event.who].startBehavior({map:this.map},{type:"walk",direction:this.event.direction,retry:!0});document.addEventListener("PersonWalkingComplete",(function n(a){a.detail.whoId===t.event.who&&(document.removeEventListener("PersonWalkingComplete",n),e())}))}},{key:"textMessage",value:function(e){var t;this.event.faceHero&&(this.map.gameObjects[this.event.faceHero].direction="left"===(t=this.map.gameObjects.hero.direction)?"right":"right"===t?"left":"up"===t?"down":"up");new P({text:this.event.text,onComplete:function(){return e()}}).init(document.querySelector(".game-container"))}},{key:"changeMap",value:function(e){var t=this,n=new x;n.init(document.querySelector(".game-container"),(function(){t.map.overworld.startMap(window.OverworldMaps[t.event.map]),e(),n.fadeOut()}))}},{key:"init",value:function(){var e=this;return new Promise((function(t){e[e.event.type](t)}))}}]),e}(),I=function(){function e(t){var n=this;Object(u.a)(this,e),this.image=new Image,this.image.src=t.src,this.image.onload=function(){n.isLoaded=!0},this.shadow=new Image,this.useShadow=!0,this.useShadow&&(this.shadow.src="/images/characters/shadow.png"),this.shadow.onload=function(){n.isShadowLoaded=!0},this.animations=t.animations||{"idle-down":[[0,0]],"idle-right":[[0,1]],"idle-up":[[0,2]],"idle-left":[[0,3]],"walk-down":[[1,0],[0,0],[3,0],[0,0]],"walk-right":[[1,1],[0,1],[3,1],[0,1]],"walk-up":[[1,2],[0,2],[3,2],[0,2]],"walk-left":[[1,3],[0,3],[3,3],[0,3]]},this.currentAnimation=t.currentAnimation||"idle-down",this.currentAnimationFrame=0,this.animationFrameLimit=t.animationFrameLimit||8,this.animationFrameProgress=this.animationFrameLimit,this.gameObject=t.gameObject}return Object(b.a)(e,[{key:"frame",get:function(){return this.animations[this.currentAnimation][this.currentAnimationFrame]}},{key:"setAnimation",value:function(e){this.currentAnimation!==e&&(this.currentAnimation=e,this.currentAnimationFrame=0,this.animationFrameProgress=this.animationFrameLimit)}},{key:"updateAnimationProgress",value:function(){this.animationFrameProgress>0?this.animationFrameProgress-=1:(this.animationFrameProgress=this.animationFrameLimit,this.currentAnimationFrame+=1,void 0===this.frame&&(this.currentAnimationFrame=0))}},{key:"draw",value:function(e,t){var n=this.gameObject.x-8+p(10.5)-t.x,a=this.gameObject.y-18+p(6)-t.y;this.isShadowLoaded&&e.drawImage(this.shadow,n,a);var i=Object(f.a)(this.frame,2),c=i[0],o=i[1];this.isLoaded&&e.drawImage(this.image,32*c,32*o,32,32,n,a,32,32),this.updateAnimationProgress()}}]),e}(),E=function(){function e(t){Object(u.a)(this,e),this.id=null,this.isMounted=!1,this.x=t.x||0,this.y=t.y||0,this.direction=t.direction||"down",this.sprite=new I({gameObject:this,src:t.src||"/images/characters/people/ashboy.png"}),this.behaviorLoop=t.behaviorLoop||[],this.behaviorLoopIndex=0,this.talking=t.talking||[]}return Object(b.a)(e,[{key:"mount",value:function(e){var t=this;this.isMounted=!0,e.addWall(this.x,this.y),setTimeout((function(){t.doBehaviorEvent(e)}),10)}},{key:"update",value:function(){}},{key:"doBehaviorEvent",value:function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCutscenePlaying&&0!==this.behaviorLoop.length&&!this.isStanding){e.next=2;break}return e.abrupt("return");case 2:return(n=this.behaviorLoop[this.behaviorLoopIndex]).who=this.id,a=new C({map:t,event:n}),e.next=7,a.init();case 7:this.behaviorLoopIndex+=1,this.behaviorLoopIndex===this.behaviorLoop.length&&(this.behaviorLoopIndex=0),this.doBehaviorEvent(t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).movingProgressRemaining=0,a.isStanding=!1,a.isPlayerControlled=e.isPlayerControlled||!1,a.directionUpdate={up:["y",-1],down:["y",1],left:["x",-1],right:["x",1]},a}return Object(b.a)(n,[{key:"update",value:function(e){this.movingProgressRemaining>0?this.updatePosition():(!e.map.isCutscenePlaying&&this.isPlayerControlled&&e.arrow&&this.startBehavior(e,{type:"walk",direction:e.arrow}),this.updateSprite(e))}},{key:"startBehavior",value:function(e,t){var n=this;if(this.direction=t.direction,"walk"===t.type){if(e.map.isSpaceTaken(this.x,this.y,this.direction))return void(t.retry&&setTimeout((function(){n.startBehavior(e,t)}),10));e.map.moveWall(this.x,this.y,this.direction),this.movingProgressRemaining=16,this.updateSprite(e)}"stand"===t.type&&(this.isStanding=!0,setTimeout((function(){w("PersonStandComplete",{whoId:n.id}),n.isStanding=!1}),t.time))}},{key:"updatePosition",value:function(){var e=Object(f.a)(this.directionUpdate[this.direction],2),t=e[0],n=e[1];this[t]+=n,this.movingProgressRemaining-=1,0===this.movingProgressRemaining&&w("PersonWalkingComplete",{whoId:this.id})}},{key:"updateSprite",value:function(){this.movingProgressRemaining>0?this.sprite.setAnimation("walk-"+this.direction):this.sprite.setAnimation("idle-"+this.direction)}}]),n}(E),F=function(){function e(t){var n=this;Object(u.a)(this,e),this.mountObjects=function(){Object.keys(n.gameObjects).forEach((function(e){var t=n.gameObjects[e];t.id=e,t.mount(n)}))},this.overworld=null,this.gameObjects=t.gameObjects,this.cutsceneSpaces=t.cutsceneSpaces||{},this.walls=t.walls||{},this.lowerImage=new Image,this.lowerImage.src=t.lowerSrc,this.upperImage=new Image,this.upperImage.src=t.upperSrc||"",this.isCutscenePlaying=!1}return Object(b.a)(e,[{key:"drawLowerImage",value:function(e,t){e.drawImage(this.lowerImage,p(10.5)-t.x,p(6)-t.y)}},{key:"drawUpperImage",value:function(e,t){e.drawImage(this.upperImage,p(10.5)-t.x,p(6)-t.y)}},{key:"isSpaceTaken",value:function(e,t,n){var a=g(e,t,n),i=a.x,c=a.y;return this.walls["".concat(i,",").concat(c)]||!1}},{key:"startCutscene",value:function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a,i=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isCutscenePlaying=!0,n=0;case 2:if(!(n<t.length)){e.next=9;break}return a=new C({event:t[n],map:this}),e.next=6,a.init();case 6:n++,e.next=2;break;case 9:this.isCutscenePlaying=!1,Object.values(this.gameObjects).forEach((function(e){return e.doBehaviorEvent(i)}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkForActionCutscene",value:function(){var e=this.gameObjects.hero,t=g(e.x,e.y,e.direction),n=Object.values(this.gameObjects).find((function(e){return"".concat(e.x,",").concat(e.y)==="".concat(t.x,",").concat(t.y)}));!this.isCutscenePlaying&&n&&n.talking.length&&this.startCutscene(n.talking[0].events)}},{key:"checkForFootstepCutscene",value:function(){var e=this.gameObjects.hero,t=this.cutsceneSpaces["".concat(e.x,",").concat(e.y)];console.log(t),!this.isCutscenePlaying&&t&&this.startCutscene(t[0].events)}},{key:"addWall",value:function(e,t){this.walls["".concat(e,",").concat(t)]=!0}},{key:"removeWall",value:function(e,t){delete this.walls["".concat(e,",").concat(t)]}},{key:"moveWall",value:function(e,t,n){this.removeWall(e,t);var a=g(e,t,n),i=a.x,c=a.y;this.addWall(i,c)}}]),e}();window.OverworldMaps={Town:{lowerSrc:"/images/maps/PokemonLower.png",upperSrc:"/images/maps/PokemonUpper.png",gameObjects:{hero:new S({isPlayerControlled:!0,x:p(6),y:p(8)}),npc1:new S({x:p(11),y:p(7),src:"/images/characters/people/pikachu.png",behaviorLoop:[{type:"walk",direction:"up"},{type:"walk",direction:"up"},{type:"walk",direction:"up"},{type:"walk",direction:"up"},{type:"stand",direction:"up",time:1500},{type:"walk",direction:"down"},{type:"walk",direction:"down"},{type:"walk",direction:"down"},{type:"walk",direction:"down"},{type:"stand",direction:"down",time:1700}]}),npc2:new S({x:p(15),y:p(8),src:"/images/characters/people/bulbasaur.png",behaviorLoop:[{type:"stand",direction:"down",time:800}],talking:[{events:[{type:"textMessage",text:"You can't come in here..",faceHero:"npc2"}]}]}),npc3:new S({x:p(6),y:p(18),src:"/images/characters/people/kingsler.png",behaviorLoop:[{type:"stand",direction:"right",time:1e4},{type:"stand",direction:"up",time:800}],talking:[{events:[{type:"textMessage",text:"I kinda wanna go swim man!",faceHero:"npc3"}]}]}),npc4:new S({x:p(14),y:p(2),src:"/images/characters/people/gengar.png",behaviorLoop:[{type:"stand",direction:"down",time:1e4},{type:"stand",direction:"up",time:800}],talking:[{events:[{type:"textMessage",text:"BOO!!",faceHero:"npc3"}]}]})},walls:(a={},Object(m.a)(a,v(1,1),!0),Object(m.a)(a,v(1,2),!0),Object(m.a)(a,v(1,3),!0),Object(m.a)(a,v(1,4),!0),Object(m.a)(a,v(1,5),!0),Object(m.a)(a,v(1,6),!0),Object(m.a)(a,v(1,7),!0),Object(m.a)(a,v(1,8),!0),Object(m.a)(a,v(1,9),!0),Object(m.a)(a,v(1,10),!0),Object(m.a)(a,v(1,11),!0),Object(m.a)(a,v(1,12),!0),Object(m.a)(a,v(1,13),!0),Object(m.a)(a,v(1,14),!0),Object(m.a)(a,v(1,15),!0),Object(m.a)(a,v(1,16),!0),Object(m.a)(a,v(1,17),!0),Object(m.a)(a,v(1,18),!0),Object(m.a)(a,v(22,1),!0),Object(m.a)(a,v(22,2),!0),Object(m.a)(a,v(22,3),!0),Object(m.a)(a,v(22,4),!0),Object(m.a)(a,v(22,5),!0),Object(m.a)(a,v(22,6),!0),Object(m.a)(a,v(22,7),!0),Object(m.a)(a,v(22,8),!0),Object(m.a)(a,v(22,9),!0),Object(m.a)(a,v(22,10),!0),Object(m.a)(a,v(22,11),!0),Object(m.a)(a,v(22,12),!0),Object(m.a)(a,v(22,13),!0),Object(m.a)(a,v(22,14),!0),Object(m.a)(a,v(22,15),!0),Object(m.a)(a,v(22,16),!0),Object(m.a)(a,v(22,17),!0),Object(m.a)(a,v(22,18),!0),Object(m.a)(a,v(2,1),!0),Object(m.a)(a,v(3,1),!0),Object(m.a)(a,v(4,1),!0),Object(m.a)(a,v(5,1),!0),Object(m.a)(a,v(6,1),!0),Object(m.a)(a,v(7,1),!0),Object(m.a)(a,v(8,1),!0),Object(m.a)(a,v(9,1),!0),Object(m.a)(a,v(10,1),!0),Object(m.a)(a,v(11,1),!0),Object(m.a)(a,v(12,0),!0),Object(m.a)(a,v(13,0),!0),Object(m.a)(a,v(14,1),!0),Object(m.a)(a,v(15,1),!0),Object(m.a)(a,v(16,1),!0),Object(m.a)(a,v(17,1),!0),Object(m.a)(a,v(18,1),!0),Object(m.a)(a,v(19,1),!0),Object(m.a)(a,v(20,1),!0),Object(m.a)(a,v(21,1),!0),Object(m.a)(a,v(2,19),!0),Object(m.a)(a,v(3,19),!0),Object(m.a)(a,v(4,19),!0),Object(m.a)(a,v(5,19),!0),Object(m.a)(a,v(6,20),!0),Object(m.a)(a,v(7,19),!0),Object(m.a)(a,v(7,18),!0),Object(m.a)(a,v(7,17),!0),Object(m.a)(a,v(8,17),!0),Object(m.a)(a,v(9,17),!0),Object(m.a)(a,v(10,17),!0),Object(m.a)(a,v(10,18),!0),Object(m.a)(a,v(10,19),!0),Object(m.a)(a,v(11,20),!0),Object(m.a)(a,v(12,20),!0),Object(m.a)(a,v(13,20),!0),Object(m.a)(a,v(14,20),!0),Object(m.a)(a,v(15,20),!0),Object(m.a)(a,v(16,20),!0),Object(m.a)(a,v(17,20),!0),Object(m.a)(a,v(18,19),!0),Object(m.a)(a,v(19,19),!0),Object(m.a)(a,v(20,19),!0),Object(m.a)(a,v(21,19),!0),Object(m.a)(a,v(13,16),!0),Object(m.a)(a,v(14,16),!0),Object(m.a)(a,v(15,16),!0),Object(m.a)(a,v(16,16),!0),Object(m.a)(a,v(17,16),!0),Object(m.a)(a,v(18,16),!0),Object(m.a)(a,v(5,11),!0),Object(m.a)(a,v(6,11),!0),Object(m.a)(a,v(7,11),!0),Object(m.a)(a,v(8,11),!0),Object(m.a)(a,v(9,11),!0),Object(m.a)(a,v(5,14),!0),Object(m.a)(a,v(4,7),!0),Object(m.a)(a,v(5,7),!0),Object(m.a)(a,v(6,6),!0),Object(m.a)(a,v(6,7),!0),Object(m.a)(a,v(7,7),!0),Object(m.a)(a,v(8,7),!0),Object(m.a)(a,v(9,7),!0),Object(m.a)(a,v(9,6),!0),Object(m.a)(a,v(9,5),!0),Object(m.a)(a,v(9,4),!0),Object(m.a)(a,v(9,4),!0),Object(m.a)(a,v(8,4),!0),Object(m.a)(a,v(7,4),!0),Object(m.a)(a,v(6,4),!0),Object(m.a)(a,v(5,4),!0),Object(m.a)(a,v(5,5),!0),Object(m.a)(a,v(5,6),!0),Object(m.a)(a,v(13,7),!0),Object(m.a)(a,v(14,7),!0),Object(m.a)(a,v(15,6),!0),Object(m.a)(a,v(16,7),!0),Object(m.a)(a,v(17,7),!0),Object(m.a)(a,v(18,7),!0),Object(m.a)(a,v(18,6),!0),Object(m.a)(a,v(18,5),!0),Object(m.a)(a,v(18,4),!0),Object(m.a)(a,v(18,4),!0),Object(m.a)(a,v(17,4),!0),Object(m.a)(a,v(16,4),!0),Object(m.a)(a,v(15,4),!0),Object(m.a)(a,v(14,4),!0),Object(m.a)(a,v(14,5),!0),Object(m.a)(a,v(14,6),!0),Object(m.a)(a,v(13,10),!0),Object(m.a)(a,v(14,10),!0),Object(m.a)(a,v(15,10),!0),Object(m.a)(a,v(16,10),!0),Object(m.a)(a,v(17,10),!0),Object(m.a)(a,v(18,10),!0),Object(m.a)(a,v(19,10),!0),Object(m.a)(a,v(19,11),!0),Object(m.a)(a,v(19,12),!0),Object(m.a)(a,v(19,13),!0),Object(m.a)(a,v(18,13),!0),Object(m.a)(a,v(17,13),!0),Object(m.a)(a,v(16,13),!0),Object(m.a)(a,v(15,13),!0),Object(m.a)(a,v(14,13),!0),Object(m.a)(a,v(13,13),!0),Object(m.a)(a,v(13,12),!0),Object(m.a)(a,v(13,11),!0),a),cutsceneSpaces:(i={},Object(m.a)(i,v(13,1),[{events:[{who:"npc4",type:"walk",direction:"left"},{who:"npc4",type:"stand",direction:"up",time:500},{type:"textMessage",text:"You're too weak to go out there!"},{who:"npc4",type:"walk",direction:"right"},{who:"hero",type:"walk",direction:"down"}]}]),Object(m.a)(i,v(12,1),[{events:[{who:"npc4",type:"walk",direction:"left"},{who:"npc4",type:"walk",direction:"left"},{who:"npc4",type:"stand",direction:"up",time:500},{type:"textMessage",text:"You're too weak to go out there!"},{who:"npc4",type:"walk",direction:"right"},{who:"npc4",type:"walk",direction:"right"},{who:"hero",type:"walk",direction:"down"}]}]),i)},House1:{lowerSrc:"/images/maps/House1.png",gameObjects:{hero:new S({isPlayerControlled:!0,x:p(4),y:p(5)}),npc1:new S({x:p(2),y:p(2),src:"/images/characters/people/pikachu.png",talking:[{events:[{type:"textMessage",text:"I smell like beef!",faceHero:"npc1"}]}]})},walls:(c={},Object(m.a)(c,v(0,1),!0),Object(m.a)(c,v(0,2),!0),Object(m.a)(c,v(0,3),!0),Object(m.a)(c,v(0,4),!0),Object(m.a)(c,v(0,5),!0),Object(m.a)(c,v(0,6),!0),Object(m.a)(c,v(0,7),!0),Object(m.a)(c,v(1,8),!0),Object(m.a)(c,v(2,8),!0),Object(m.a)(c,v(3,8),!0),Object(m.a)(c,v(4,8),!0),Object(m.a)(c,v(5,8),!0),Object(m.a)(c,v(6,8),!0),Object(m.a)(c,v(7,8),!0),Object(m.a)(c,v(8,8),!0),Object(m.a)(c,v(9,8),!0),Object(m.a)(c,v(10,8),!0),Object(m.a)(c,v(11,7),!0),Object(m.a)(c,v(11,7),!0),Object(m.a)(c,v(11,6),!0),Object(m.a)(c,v(12,5),!0),Object(m.a)(c,v(12,4),!0),Object(m.a)(c,v(12,3),!0),Object(m.a)(c,v(11,2),!0),Object(m.a)(c,v(1,1),!0),Object(m.a)(c,v(2,1),!0),Object(m.a)(c,v(3,1),!0),Object(m.a)(c,v(4,1),!0),Object(m.a)(c,v(4,2),!0),Object(m.a)(c,v(4,3),!0),Object(m.a)(c,v(5,1),!0),Object(m.a)(c,v(6,1),!0),Object(m.a)(c,v(7,1),!0),Object(m.a)(c,v(8,1),!0),Object(m.a)(c,v(9,1),!0),Object(m.a)(c,v(10,1),!0),Object(m.a)(c,v(11,1),!0),Object(m.a)(c,v(7,4),!0),Object(m.a)(c,v(7,5),!0),Object(m.a)(c,v(8,4),!0),Object(m.a)(c,v(8,5),!0),c),cutsceneSpaces:Object(m.a)({},v(4,7),[{events:[{type:"changeMap",map:"Town"}]}])}};var A=function(){function e(t){Object(u.a)(this,e),this.element=t.element,this.canvas=this.element.querySelector(".game-canvas"),this.ctx=this.canvas.getContext("2d"),this.map=null}return Object(b.a)(e,[{key:"startGameLoop",value:function(){var e=this;!function t(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);var n=e.map.gameObjects.hero;Object.values(e.map.gameObjects).forEach((function(t){t.update({arrow:e.directionInput.direction,map:e.map})})),e.map.drawLowerImage(e.ctx,n),Object.values(e.map.gameObjects).sort((function(e,t){return e.y-t.y})).forEach((function(t){t.sprite.draw(e.ctx,n)})),e.map.drawUpperImage(e.ctx,n),requestAnimationFrame((function(){t()}))}()}},{key:"bindActionInput",value:function(){var e=this;new L("Enter",(function(){e.map.checkForActionCutscene()}))}},{key:"bindHeroPositionCheck",value:function(){var e=this;document.addEventListener("PersonWalkingComplete",(function(t){"hero"===t.detail.whoId&&e.map.checkForFootstepCutscene()}))}},{key:"startMap",value:function(e){this.map=new F(e),this.map.overworld=this,this.map.mountObjects()}},{key:"init",value:function(){this.startMap(window.OverworldMaps.Town),this.bindActionInput(),this.bindHeroPositionCheck(),this.directionInput=new d,this.directionInput.init(),this.startGameLoop()}}]),e}(),M=function(){new A({element:document.querySelector(".game-container")}).init()},T=n(3);var W=function(){return Object(o.useEffect)((function(){M()}),[]),Object(T.jsx)("div",{class:"game-container",children:Object(T.jsx)("canvas",{class:"game-canvas",width:"352",height:"198"})})};var B=function(){return Object(T.jsx)(W,{})};h.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(B,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.7dc2d809.chunk.js.map